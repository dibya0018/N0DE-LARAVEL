import{j as e}from"./app-BAYl1HSz.js";import p from"./FieldBase-Bf9Vt966.js";import{I as n}from"./input-CNhlXZJH.js";import{B as d}from"./button-BUWHkrIo.js";import{I as b}from"./input-error-BN6HrjaN.js";import{T as A}from"./trash-2-DxLslLPH.js";import{P as N}from"./plus-WwBbC7Wx.js";/* empty css            */import"./label-cm5VjJbG.js";import"./index-DRazXELc.js";import"./utils-CSG-oG7g.js";function E({field:a,value:t,onChange:s,processing:l,errors:o,fieldId:x}){var u;const j=x||a.name,y=()=>{if(!Array.isArray(t)){s(a,[{value:null}]);return}const r=[...t,{value:null}];s(a,r)},h=r=>{if(!Array.isArray(t))return;const i=[...t];i.splice(r,1),s(a,i)};if((u=a.options)!=null&&u.repeatable){const r=Array.isArray(t)?t:[{value:null}];return e.jsx(p,{field:a,value:t,onChange:s,processing:l,errors:o,children:e.jsxs("div",{className:"space-y-2",children:[r.map((i,m)=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{id:`${a.name}-${m}`,type:"text",required:a.required,value:i.value||"",onChange:v=>{const c=[...r];c[m]={value:v.target.value},s(a,c)},disabled:l,placeholder:a.placeholder,className:"flex-1"}),m!==0&&e.jsx(d,{type:"button",variant:"destructive",size:"icon",onClick:()=>h(m),disabled:l,children:e.jsx(A,{className:"h-4 w-4"})})]}),e.jsx(b,{message:o[`data.${a.name}.${m}.value`]})]},m)),e.jsxs(d,{type:"button",variant:"outline",size:"sm",onClick:y,disabled:l,className:"text-xs",children:[e.jsx(N,{className:"h-4 w-4 mr-1"}),"Add a new line"]})]})})}return e.jsx(p,{field:a,value:t,onChange:s,processing:l,errors:o,children:e.jsx(n,{id:j,type:"text",required:a.required,value:t||"",onChange:r=>s(a,r.target.value),disabled:l,placeholder:a.placeholder})})}export{E as default};
