import{r as f,u as Me,U as oe,j as e,t as j,a as y,b as w}from"./app-BAYl1HSz.js";import{s as Be}from"./utils-CSG-oG7g.js";import{c as ee,B as d}from"./button-BUWHkrIo.js";import{D as ce,a as de,b as me,g as K}from"./dropdown-menu-zE5wHxoc.js";import{r as Oe}from"./index-BrfetXPR.js";import{C as pe,c as ue}from"./card-CrMVoWAt.js";import{S as V}from"./separator-DNWIp4wA.js";import{B as G}from"./badge-QMdTmx3v.js";import{D as S,a as T,b as A,c as U,d as I,e as L}from"./dialog-DohomiSb.js";import{S as $e}from"./Select-b8uBCLur.js";import He from"./TranslationSelectModal-nCAARDaj.js";import{C as he}from"./chevron-down-Cw2QYx2J.js";import{C as Z}from"./circle-alert-BCdqIib6.js";import{T as xe}from"./trash-2-DxLslLPH.js";import{X as je}from"./index-DzNUrV5G.js";import{C as E}from"./copy-mrXhSjRK.js";import{F as Ke}from"./file-text-CWXDWnWc.js";import{K as Ge}from"./key-BAlHmL0b.js";import{C as fe}from"./calendar-CA5vAzoc.js";import{U as be}from"./user-BSjMmka3.js";import{C as Re}from"./clock-B4VR18tN.js";/* empty css            */import"./index-D0mva12j.js";import"./index-DRazXELc.js";import"./index-CC0gYkaS.js";import"./index-ClMuC-A5.js";import"./Combination-DBQolvko.js";import"./index-DU1cekCd.js";import"./floating-ui.dom-DtF1XweH.js";import"./index-WbFOJLSP.js";import"./index-WjG9McFh.js";import"./index-CDr1GRbl.js";import"./TextField-Dt6xk4U6.js";import"./FieldBase-Bf9Vt966.js";import"./label-cm5VjJbG.js";import"./input-error-BN6HrjaN.js";import"./input-CNhlXZJH.js";import"./plus-WwBbC7Wx.js";import"./LongTextField-pHUbLQHO.js";import"./textarea-BninraIe.js";import"./RichTextField-CrjV0zQv.js";import"./tooltip-DsY4Q31h.js";import"./prism-Dqf3inl0.js";import"./list-ordered-CAJaYuK2.js";import"./save-BrDiTwid.js";import"./MediaFieldSelectModal-CtCYjuY2.js";import"./tabs-VLokmgZM.js";import"./search-bar-CXlHkVVx.js";import"./pagination-DqjXBUBk.js";import"./chevron-left-CIVxo5Hh.js";import"./chevron-right-D6wPFmnq.js";import"./alert-dialog-rwDNo7n6.js";import"./AssetGrid-2_pYCbtF.js";import"./checkbox-DM2FAlZO.js";import"./index-47IHtonF.js";import"./check-B69XlBAf.js";import"./AssetDetailsModal-BtHtV5lE.js";import"./download-DYCYjKDs.js";import"./lock-op3ureYo.js";import"./file-image-B6fjxKfq.js";import"./file-Da2ZVSrE.js";import"./AssetActionMenu-Dy7nZ14i.js";import"./ellipsis-vertical-Dhv4-4ce.js";import"./eye-qNAffJdW.js";import"./trash-CiO9M-2A.js";import"./AssetTable-CRXC0oAN.js";import"./table-BXEyF7RO.js";import"./format-C_TaVLmE.js";import"./AssetUploader-D4dsnDyd.js";import"./scroll-area-4-y7N4RV.js";import"./upload-IcDaw6Sm.js";import"./image-u2W-qx98.js";import"./layout-grid-DOI_FcEe.js";import"./popover-BngHBur4.js";import"./align-center-TgbYJwzI.js";import"./link-t6pPAohe.js";import"./code-DWMjAwzg.js";import"./grip-vertical-CVrUASli.js";import"./SlugField-DjA0XAOG.js";import"./EmailField-BweyaS-V.js";import"./at-sign-C25L0n_H.js";import"./PasswordField-DLfPPdTM.js";import"./eye-off-CfQCku61.js";import"./key-round-DR82D8by.js";import"./NumberField-B3DmFbh9.js";import"./hash-CHX6eWTm.js";import"./EnumerationField-CxYYOCLp.js";import"./BooleanField-B8_VnfQ_.js";import"./switch-DYMSKvXv.js";import"./ColorField-DrDbyQiD.js";import"./DateField-DOOCCrXG.js";import"./moment-BLMuvzoS.js";import"./date-picker-B4BjS-4b.js";import"./TimeField-C-UyVgTj.js";import"./MediaField-DBaPeEC8.js";import"./RelationField-C0NQWvtk.js";import"./RelationModal-CA9gP4y4.js";import"./lexical-converter-4eQd3LVe.js";import"./data-table-DBeixPDt.js";import"./select-CN0qBbIi.js";import"./loader-circle-GU8JMaLt.js";import"./relation-entries-table-D2aOOuck.js";import"./dnd.esm-Bv3pd172.js";import"./extends-CF3RwP-h.js";import"./JSONField-BOhBgX4C.js";import"./index-B_2jjvkB.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Xe=ee("CircleCheck",We);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ge=ee("Earth",Ye);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],Je=ee("Languages",qe);function qa({project:m,collection:c,contentEntry:r,formData:k,isEditMode:x}){var le,ie;const[F,z]=f.useState({}),[u,g]=f.useState(!1),[Ne,se]=f.useState({}),[ve,P]=f.useState(!1),[ye,M]=f.useState(!1),[we,B]=f.useState(!1),[Ce,O]=f.useState(!1),[ke,R]=f.useState(!1),[ae,_e]=f.useState({}),[W,te]=f.useState(!1),[De,X]=f.useState(!1),[re,Y]=f.useState(null),b=Me().props.userCan,$=c.is_singleton,_=oe.useMemo(()=>{const s=c.fields.filter(n=>!n.parent_field_id),a=c.fields.filter(n=>n.parent_field_id).reduce((n,i)=>{const t=i.parent_field_id;return n[t]||(n[t]=[]),n[t].push(i),n},{});return s.map(n=>({...n,children:a[n.id]||[]}))},[c.fields]),q=m.locales,D=Array.isArray(q)&&q.length?q:[m.default_locale||"en"],[H,Se]=f.useState((r==null?void 0:r.locale)||m.default_locale||D[0]);f.useEffect(()=>{if(k&&Object.keys(k).length>0){const a={...k},n=t=>t&&typeof t=="object"?t.id??null:t??null,i=(t,o)=>{var p,h,C;if(!!((p=o.options)!=null&&p.multiple)||((C=(h=o.options)==null?void 0:h.media)==null?void 0:C.type)===2||Array.isArray(t))return Array.isArray(t)?t.map(n).filter(v=>v!==null):[];{const v=Array.isArray(t)?n(t[0]):n(t);return v!==null?[v]:[]}};_.forEach(t=>{var o;if(t.type==="media"){const l=k[t.name];a[t.name]=i(l,t)}else if(t.type==="group"){const l=k[t.name];if(Array.isArray(l))a[t.name]=l.map(p=>{var C;const h={...p};return(C=t.children)==null||C.forEach(v=>{v.type==="media"&&p[v.name]!==void 0&&(h[v.name]=i(p[v.name],v))}),h});else if(l&&typeof l=="object"){const p={...l};(o=t.children)==null||o.forEach(h=>{h.type==="media"&&l[h.name]!==void 0&&(p[h.name]=i(l[h.name],h))}),a[t.name]=[p]}}}),z(a);return}const s={};_.forEach(a=>{var n,i,t;if(a.type==="group")if((n=a.options)!=null&&n.repeatable)s[a.name]=[];else{const o={};a.children&&a.children.forEach(l=>{var p;l.type==="boolean"?o[l.name]=!1:l.type==="enumeration"&&((p=l.options)!=null&&p.multiple)?o[l.name]=[]:["media","relation"].includes(l.type)?o[l.name]=[]:l.type==="json"?o[l.name]=null:o[l.name]=""}),s[a.name]=[o]}else(i=a.options)!=null&&i.repeatable?s[a.name]=[{value:null}]:a.type==="enumeration"&&((t=a.options)!=null&&t.multiple)?s[a.name]=[]:a.type==="boolean"?s[a.name]=!1:a.type==="media"?s[a.name]=[]:a.type==="relation"?s[a.name]=[]:a.type==="json"?s[a.name]=null:s[a.name]=""}),z(s)},[c,k,_]);const N=async(s,a)=>{var n,i;g(!0),se({});try{let t;if(x&&r?t=await w.put(route("projects.collections.content.update",{project:m.id,collection:c.id,contentEntry:r.id}),{data:F,status:a,locale:H}):t=await w.post(route("projects.collections.content.store",{project:m.id,collection:c.id}),{data:F,status:a,locale:H}),j.success(t.data.message||"Content saved successfully"),s==="close"||!x&&!b.update_content)y.visit(route("projects.collections.show",{project:m.id,collection:c.id}));else if(s==="new"){const o={};c.fields.forEach(l=>{var p,h;(p=l.options)!=null&&p.repeatable?o[l.name]=[{value:null}]:l.type==="enumeration"&&((h=l.options)!=null&&h.multiple)?o[l.name]=[]:l.type==="boolean"?o[l.name]=!1:l.type==="media"?o[l.name]=[]:l.type==="relation"?o[l.name]=[]:l.type==="json"?o[l.name]=null:o[l.name]=""}),z(o),window.scrollTo(0,0)}else if(s==="stay"&&!x&&b.update_content&&t.data.entry_id){const o=t.data.entry_id;setTimeout(()=>{y.visit(route("projects.collections.content.edit",{project:m.id,collection:c.id,contentEntry:o}))},100)}else s==="stay"&&x&&y.reload()}catch(t){(i=(n=t.response)==null?void 0:n.data)!=null&&i.errors?(se(t.response.data.errors),j.error("Failed to save content. Please check the form for errors.")):j.error("An error occurred while saving content.")}finally{g(!1)}},Te=async()=>{g(!0);try{await N("stay","draft"),P(!1)}catch{}finally{g(!1)}},Ae=async()=>{g(!0);try{const s=await w.delete(route("projects.collections.content.destroy",{project:m.id,collection:c.id,contentEntry:r.id}));j.success(s.data.message||"Content moved to trash successfully"),y.visit(route("projects.collections.show",{project:m.id,collection:c.id}))}catch{j.error("Failed to move content to trash.")}finally{g(!1),M(!1)}},Ue=async()=>{g(!0);try{const s=await w.delete(route("projects.collections.content.forceDestroy",{project:m.id,collection:c.id,contentEntry:r.id}));j.success(s.data.message||"Content permanently deleted"),y.visit(route("projects.collections.show",{project:m.id,collection:c.id}))}catch{j.error("Failed to delete content.")}finally{g(!1),B(!1)}},Ie=async()=>{g(!0);try{const s=await w.post(route("projects.collections.content.duplicate",{project:m.id,collection:c.id,contentEntry:r.id}));j.success(s.data.message||"Content duplicated");const a=s.data.entry_id;a?y.visit(route("projects.collections.content.edit",{project:m.id,collection:c.id,contentEntry:a})):y.reload()}catch{j.error("Failed to duplicate content")}finally{g(!1),O(!1)}},J=async()=>{await ne()},ne=async s=>{var a;if(r){te(!0);try{const n={},i=s||r.translation_group_id;for(const t of D)if(t===r.locale)n[t]=r;else if(i)try{const l=(a=(await w.get(route("projects.collections.content.search",{project:m.id,collection:c.id}),{params:{filter_locale:t,per_page:100}})).data.data)==null?void 0:a.find(p=>p.translation_group_id===i);n[t]=l||null}catch{n[t]=null}else n[t]=null;_e(n)}catch{j.error("Failed to fetch translations")}finally{te(!1)}}},Le=(s,a)=>{a&&a.id?y.visit(route("projects.collections.content.edit",{project:m.id,collection:c.id,contentEntry:a.id})):(Y(s),X(!0))},Fe=async s=>{var a,n;if(r)try{await w.post(route("projects.collections.content.linkTranslation",{project:m.id,collection:c.id,contentEntry:r.id}),{translation_entry_id:s.id}),j.success("Translation linked successfully"),X(!1),Y(null);try{const t=(await w.get(route("projects.collections.content.show",{project:m.id,collection:c.id,contentEntry:r.id}))).data;await ne(t.translation_group_id)}catch{await J()}}catch(i){j.error(((n=(a=i.response)==null?void 0:a.data)==null?void 0:n.message)||"Failed to link translation")}},ze=async(s,a)=>{var n,i;if(!(!r||!a))try{await w.post(route("projects.collections.content.unlinkTranslation",{project:m.id,collection:c.id,contentEntry:r.id}),{translation_entry_id:a.id}),j.success("Translation unlinked successfully"),J()}catch(t){j.error(((i=(n=t.response)==null?void 0:n.data)==null?void 0:i.message)||"Failed to unlink translation")}},Pe=(s,a,n)=>{var o,l;const i={...F};s.type==="group"?i[s.name]=a:(o=s.options)!=null&&o.repeatable?typeof n=="number"?(Array.isArray(i[s.name])||(i[s.name]=[{value:null}]),i[s.name][n].value=a):i[s.name]=a:s.type==="media"?i[s.name]=Array.isArray(a)?a:a?[a]:[]:i[s.name]=a;const t=_.find(p=>{var h,C;return p.type==="slug"&&((C=(h=p.options)==null?void 0:h.slug)==null?void 0:C.field)===s.name});t&&!((l=s.options)!=null&&l.repeatable)&&s.type!=="group"&&(i[t.name]=Be(a)),z(i)},Q=s=>s?new Date(s).toLocaleString():"N/A";return e.jsxs("div",{children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"flex justify-between space-x-4",children:[e.jsxs("div",{className:"space-y-4 w-3/4",children:[$&&e.jsx("div",{className:"mb-3",children:e.jsxs("h1",{className:"text-xl font-bold",children:[c.name,e.jsxs("span",{className:"text-sm font-normal text-muted-foreground ml-2",children:["#",e.jsx("span",{className:"select-all",children:c.slug})]})]})}),_.map(s=>e.jsx("div",{className:"border border-gray-200 dark:border-gray-800 border-dashed w-full p-4 rounded-md",children:e.jsx(oe.Fragment,{children:Oe({field:s,value:F[s.name],onChange:Pe,processing:u,errors:Ne,projectId:m.id})})},s.id))]}),e.jsx("div",{className:"flex-1 w-1/4",children:e.jsxs("aside",{className:"space-y-4 sticky top-4",children:[!$&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col space-y-3",children:[x&&r.status==="draft"&&e.jsx("div",{className:"flex space-x-2",children:e.jsx(d,{onClick:()=>N("stay","draft"),disabled:u,className:"flex-grow",children:"Save as draft"})}),!x&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(d,{onClick:()=>N("stay","draft"),disabled:u,className:"flex-grow",children:"Save as draft"}),!x&&e.jsxs(ce,{children:[e.jsx(de,{asChild:!0,children:e.jsx(d,{variant:"outline",size:"icon",className:"px-2",children:e.jsx(he,{className:"h-4 w-4"})})}),e.jsxs(me,{align:"end",children:[e.jsx(K,{onClick:()=>N("close","draft"),children:"Save and close"}),e.jsx(K,{onClick:()=>N("new","draft"),children:"Save and create new"})]})]})]}),x&&b.publish_content&&e.jsx("div",{className:"flex space-x-2",children:e.jsx(d,{onClick:()=>N("stay","published"),disabled:u,className:"flex-grow bg-green-600 hover:bg-green-700 text-white",children:"Save & Publish"})}),!x&&b.publish_content&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(d,{onClick:()=>N("stay","published"),disabled:u,className:"flex-grow bg-green-600 hover:bg-green-700 text-white",children:"Save & Publish"}),!x&&e.jsxs(ce,{children:[e.jsx(de,{asChild:!0,children:e.jsx(d,{variant:"outline",size:"icon",className:"px-2",children:e.jsx(he,{className:"h-4 w-4"})})}),e.jsxs(me,{align:"end",children:[e.jsx(K,{onClick:()=>N("close","published"),children:"Save, publish and close"}),e.jsx(K,{onClick:()=>N("new","published"),children:"Save, publish and create new"})]})]})]})]}),x&&r&&e.jsxs("div",{className:`p-3 rounded-md flex items-center justify-between ${r.status==="published"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[r.status==="published"?e.jsx(Xe,{className:"h-5 w-5 text-green-600 dark:text-green-400"}):e.jsx(Z,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium ${r.status==="published"?"text-green-700 dark:text-green-400":"text-amber-700 dark:text-amber-400"}`,children:r.status==="published"?"Published":"Draft"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:r.status==="published"?`Published on ${new Date(r.published_at).toLocaleDateString()}`:"This entry is not yet published"})]})]}),e.jsx(G,{variant:r.status==="published"?"default":"outline",className:r.status==="published"?"bg-green-600 hover:bg-green-700":"text-amber-600 border-amber-300 dark:border-amber-600",children:r.status==="published"?"Live":"Draft"})]}),x&&r&&r.status==="published"&&b.unpublish_content&&e.jsxs(d,{onClick:()=>P(!0),disabled:u,variant:"outline",className:"w-full border-amber-300 text-amber-700 hover:bg-amber-50 dark:border-amber-600 dark:text-amber-400 dark:hover:bg-amber-900/20",children:[e.jsx(Z,{className:"mr-2 h-4 w-4"}),"Unpublish"]}),x&&r&&(b.create_content||b.move_content_to_trash||b.delete_content)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex space-x-2",children:[b.move_content_to_trash&&e.jsxs(d,{onClick:()=>M(!0),variant:"outline",className:"flex-1 border-red-200 text-red-600 hover:bg-red-50 hover:text-red-700",children:[e.jsx(xe,{className:"mr-2 h-4 w-4"}),"Move to Trash"]}),b.delete_content&&e.jsxs(d,{onClick:()=>B(!0),variant:"outline",className:"flex-1 border-red-200 text-red-600 hover:bg-red-50 hover:text-red-700",children:[e.jsx(je,{className:"mr-2 h-4 w-4"}),"Delete"]})]}),e.jsx("div",{className:"flex space-x-2",children:b.create_content&&e.jsxs(d,{onClick:()=>O(!0),variant:"outline",className:"flex-1",disabled:u,children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),"Duplicate"]})})]})]}),$&&e.jsx("div",{className:"flex space-x-2",children:e.jsx(d,{onClick:()=>N("stay","published"),disabled:u,className:"flex-grow bg-green-600 hover:bg-green-700 text-white",children:"Save Content"})}),$&&e.jsx("div",{className:"text-sm text-muted-foreground",children:"This is a single entry collection. Only one content entry is allowed."}),e.jsx(pe,{className:"py-2",children:e.jsx(ue,{className:"py-3",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h3",{className:"text-sm font-medium flex items-center space-x-2",children:[e.jsx(ge,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:"Locale"})]}),e.jsx($e,{isMulti:!1,value:{value:H,label:H.toUpperCase()},onChange:s=>Se((s==null?void 0:s.value)||m.default_locale),options:D.map(s=>({value:s,label:s.toUpperCase()})),isDisabled:u})]})})}),x&&D.length>1&&e.jsxs(d,{variant:"outline",className:"w-full",disabled:u,onClick:()=>{R(!0),J()},children:[e.jsx(Je,{className:"mr-2 h-4 w-4"}),"Translations"]}),x&&r&&e.jsx(pe,{className:"py-2",children:e.jsxs(ue,{className:"py-3",children:[e.jsx("h3",{className:"text-sm font-medium mb-3",children:"Content Details"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:"ID:"})]}),e.jsx("span",{className:"font-medium",children:r.id})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:"UUID:"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"font-medium",children:r.uuid?`${r.uuid.substring(0,8)}...`:"N/A"}),r.uuid&&e.jsx(d,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>{navigator.clipboard.writeText(r.uuid),j.success("UUID copied to clipboard")},children:e.jsx(E,{className:"h-3 w-3"})})]})]}),e.jsx(V,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:"Created:"})]}),e.jsx("span",{className:"font-medium",children:Q(r.created_at)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(be,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:"By:"})]}),e.jsx("span",{className:"font-medium",children:((le=r.creator)==null?void 0:le.name)||"Unknown"})]}),e.jsx(V,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Re,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:"Updated:"})]}),e.jsx("span",{className:"font-medium",children:Q(r.updated_at)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(be,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:"By:"})]}),e.jsx("span",{className:"font-medium",children:((ie=r.updater)==null?void 0:ie.name)||"Unknown"})]}),e.jsx(V,{}),r.status==="published"&&r.published_at&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:"Published:"})]}),e.jsx("span",{className:"font-medium",children:Q(r.published_at)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:"Locale:"})]}),e.jsx(G,{variant:"outline",className:"uppercase",children:r.locale||"en"})]})]})]})})]})})]})}),e.jsx(S,{open:ve,onOpenChange:P,children:e.jsxs(T,{className:"sm:max-w-md",children:[e.jsxs(A,{children:[e.jsx(U,{children:"Unpublish Content"}),e.jsx(I,{children:"Are you sure you want to unpublish this content? It will no longer be visible to users."})]}),e.jsxs(L,{children:[e.jsx(d,{variant:"outline",onClick:()=>P(!1),disabled:u,children:"Cancel"}),e.jsxs(d,{variant:"default",onClick:Te,disabled:u,className:"bg-amber-600 hover:bg-amber-700 text-white",children:[e.jsx(Z,{className:"mr-2 h-4 w-4"}),"Unpublish"]})]})]})}),e.jsx(S,{open:ye,onOpenChange:M,children:e.jsxs(T,{className:"sm:max-w-md",children:[e.jsxs(A,{children:[e.jsx(U,{children:"Move to Trash"}),e.jsx(I,{children:"Are you sure you want to move this content to trash? You can restore it later."})]}),e.jsxs(L,{children:[e.jsx(d,{variant:"outline",onClick:()=>M(!1),disabled:u,children:"Cancel"}),e.jsxs(d,{variant:"destructive",onClick:Ae,disabled:u,children:[e.jsx(xe,{className:"mr-2 h-4 w-4"}),"Move to Trash"]})]})]})}),e.jsx(S,{open:we,onOpenChange:B,children:e.jsxs(T,{className:"sm:max-w-md",children:[e.jsxs(A,{children:[e.jsx(U,{children:"Delete Content Permanently"}),e.jsx(I,{children:"Are you sure you want to permanently delete this content? This action cannot be undone."})]}),e.jsxs(L,{children:[e.jsx(d,{variant:"outline",onClick:()=>B(!1),disabled:u,children:"Cancel"}),e.jsxs(d,{variant:"destructive",onClick:Ue,disabled:u,children:[e.jsx(je,{className:"mr-2 h-4 w-4"}),"Delete Permanently"]})]})]})}),e.jsx(S,{open:Ce,onOpenChange:O,children:e.jsxs(T,{className:"sm:max-w-md",children:[e.jsxs(A,{children:[e.jsx(U,{children:"Duplicate Content"}),e.jsx(I,{children:"This will create a new draft copy of the current entry. Continue?"})]}),e.jsxs(L,{children:[e.jsx(d,{variant:"outline",onClick:()=>O(!1),disabled:u,children:"Cancel"}),e.jsxs(d,{onClick:Ie,disabled:u,children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),"Duplicate"]})]})]})}),e.jsx(S,{open:ke,onOpenChange:R,children:e.jsxs(T,{className:"sm:max-w-md",children:[e.jsxs(A,{children:[e.jsx(U,{children:"Translations"}),e.jsx(I,{children:"Manage translations for this content entry across different locales."})]}),e.jsx("div",{className:"space-y-3 py-4",children:W?e.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"Loading translations..."}):D.map(s=>{const a=ae[s],n=r&&r.locale===s;return e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(G,{variant:"outline",className:"uppercase",children:s}),n&&e.jsx(G,{variant:"default",className:"text-xs",children:"Current"}),a&&!n&&e.jsxs("button",{onClick:()=>{y.visit(route("projects.collections.content.edit",{project:m.id,collection:c.id,contentEntry:a.id}))},className:"text-sm text-blue-600 hover:text-blue-700 hover:underline cursor-pointer",children:["Entry #",a.id]}),!a&&!n&&e.jsx("span",{className:"text-sm text-muted-foreground",children:"No translation"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[a&&!n&&e.jsx(d,{variant:"outline",size:"sm",onClick:()=>ze(s,a),disabled:W,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"Unlink"}),!a&&!n&&e.jsx(d,{variant:"default",size:"sm",onClick:()=>{Le(s,a)},disabled:W,children:"Select"})]})]},s)})}),e.jsx(L,{children:e.jsx(d,{variant:"outline",onClick:()=>R(!1),children:"Close"})})]})}),re&&e.jsx(He,{isOpen:De,onClose:()=>{X(!1),Y(null)},collection:c,projectId:m.id,locale:re,excludeEntryIds:[r==null?void 0:r.id,...Object.values(ae).filter(s=>s&&s.id).map(s=>s.id)].filter(Boolean),onSelect:Fe})]})}export{qa as default};
