import{j as e}from"./app-BAYl1HSz.js";import n from"./FieldBase-Bf9Vt966.js";import{T as p}from"./textarea-BninraIe.js";import{B as d}from"./button-BUWHkrIo.js";import{I as b}from"./input-error-BN6HrjaN.js";import{T as A}from"./trash-2-DxLslLPH.js";import{P as N}from"./plus-WwBbC7Wx.js";/* empty css            */import"./label-cm5VjJbG.js";import"./index-DRazXELc.js";import"./utils-CSG-oG7g.js";function E({field:a,value:r,onChange:t,processing:l,errors:i,fieldId:x}){var u;const j=x||a.name,h=()=>{if(!Array.isArray(r)){t(a,[{value:null}]);return}const s=[...r,{value:null}];t(a,s)},v=s=>{if(!Array.isArray(r))return;const o=[...r];o.splice(s,1),t(a,o)};if((u=a.options)!=null&&u.repeatable){const s=Array.isArray(r)?r:[{value:null}];return e.jsx(n,{field:a,value:r,onChange:t,processing:l,errors:i,children:e.jsxs("div",{className:"space-y-2",children:[s.map((o,m)=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(p,{id:`${a.name}-${m}`,required:a.required,value:o.value||"",onChange:y=>{const c=[...s];c[m]={value:y.target.value},t(a,c)},disabled:l,placeholder:a.placeholder,className:"flex-1"}),m!==0&&e.jsx(d,{type:"button",variant:"destructive",size:"icon",onClick:()=>v(m),disabled:l,children:e.jsx(A,{className:"h-4 w-4"})})]}),e.jsx(b,{message:i[`data.${a.name}.${m}.value`]})]},m)),e.jsxs(d,{type:"button",variant:"outline",size:"sm",onClick:h,disabled:l,className:"text-xs",children:[e.jsx(N,{className:"h-4 w-4 mr-1"}),"Add a new line"]})]})})}return e.jsx(n,{field:a,value:r,onChange:t,processing:l,errors:i,children:e.jsx(p,{id:j,required:a.required,value:r||"",onChange:s=>t(a,s.target.value),disabled:l,placeholder:a.placeholder})})}export{E as default};
