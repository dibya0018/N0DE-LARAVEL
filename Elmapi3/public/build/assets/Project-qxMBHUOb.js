import{r as D,c as b,j as e,u as g,H as S}from"./app-BAYl1HSz.js";import{A as C}from"./app-layout-BEHjmAYT.js";import k from"./layout-DjpJEdUZ.js";import{H as N}from"./heading-small-BlUNSpUE.js";import{I as j}from"./input-error-BN6HrjaN.js";import{B as n}from"./button-BUWHkrIo.js";import{I as f}from"./input-CNhlXZJH.js";import{L as o}from"./label-cm5VjJbG.js";import{D as P,f as _,a as F,c as I,d as w,e as L,g as R}from"./dialog-DohomiSb.js";import{S as A}from"./separator-DNWIp4wA.js";import{R as E,a as v}from"./radio-group-CThl2yM6.js";/* empty css            */import"./utils-CSG-oG7g.js";import"./index-DzNUrV5G.js";import"./index-D0mva12j.js";import"./Combination-DBQolvko.js";import"./index-DRazXELc.js";import"./index-WjG9McFh.js";import"./tooltip-DsY4Q31h.js";import"./index-DU1cekCd.js";import"./floating-ui.dom-DtF1XweH.js";import"./index-WbFOJLSP.js";import"./dropdown-menu-zE5wHxoc.js";import"./index-CC0gYkaS.js";import"./index-ClMuC-A5.js";import"./index-CDr1GRbl.js";import"./user-BSjMmka3.js";import"./settings-Bhr0gP4l.js";import"./app-logo-icon-BrzWybGo.js";import"./index-B_2jjvkB.js";import"./folder-BjjgW9yE.js";import"./image-u2W-qx98.js";import"./globe-CUGWl2f4.js";import"./users-DJytDsFA.js";import"./key-BAlHmL0b.js";import"./download-DYCYjKDs.js";import"./layout-grid-DOI_FcEe.js";import"./chevron-right-D6wPFmnq.js";import"./heading-zKqXxHZB.js";import"./index-47IHtonF.js";function H({projectId:s,projectName:i}){const a=D.useRef(null),{data:t,setData:d,delete:c,processing:l,reset:m,errors:p,clearErrors:u}=b({confirm_name:""}),x=h=>{h.preventDefault(),c(route("projects.destroy",s),{preserveScroll:!0})},r=()=>{u(),m()},y=t.confirm_name===i;return e.jsxs("div",{className:"space-y-6",children:[e.jsx(N,{title:"Delete project",description:"Delete this project and all of its resources"}),e.jsxs("div",{className:"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10",children:[e.jsxs("div",{className:"relative space-y-0.5 text-red-600 dark:text-red-100",children:[e.jsx("p",{className:"font-medium",children:"Warning"}),e.jsx("p",{className:"text-sm",children:"This action cannot be undone. Type the project name to confirm."})]}),e.jsxs(P,{children:[e.jsx(_,{asChild:!0,children:e.jsx(n,{variant:"destructive",children:"Delete project"})}),e.jsxs(F,{children:[e.jsx(I,{children:"Are you sure you want to delete this project?"}),e.jsx(w,{children:"Once the project is deleted, all of its collections, content, and assets will also be permanently deleted."}),e.jsxs("form",{className:"space-y-6",onSubmit:x,children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:["Please type ",e.jsx("span",{className:"font-mono bg-muted px-1 py-0.5 rounded border border-input inline-block select-all",children:i})," to confirm"]}),e.jsx(f,{id:"confirm_name",name:"confirm_name",ref:a,value:t.confirm_name,onChange:h=>d("confirm_name",h.target.value),placeholder:i}),e.jsx(j,{message:p.confirm_name})]}),e.jsxs(L,{className:"gap-2",children:[e.jsx(R,{asChild:!0,children:e.jsx(n,{variant:"secondary",onClick:r,type:"button",children:"Cancel"})}),e.jsx(n,{variant:"destructive",disabled:l||!y,asChild:!0,children:e.jsx("button",{type:"submit",children:"Delete project"})})]})]})]})]})]})]})}function De({project:s}){const i=[{title:s.name,href:route("projects.show",s.id)},{title:"Settings",href:route("projects.settings.project",s.id)}],{data:a,setData:t,put:d,processing:c,errors:l,recentlySuccessful:m}=b({name:s.name||"",description:s.description||"",default_locale:s.default_locale||"",disk:s.disk||"public"}),p=g().props.userCan,u=g().props.awsCredentialsConfigured,x=r=>{r.preventDefault(),d(route("projects.update",s.id),{preserveScroll:!0})};return e.jsxs(C,{breadcrumbs:i,children:[e.jsx(S,{title:"Project settings"}),e.jsx(k,{project:s,children:e.jsxs("div",{className:"space-y-6 max-w-2xl",children:[e.jsx(N,{title:"Project",description:"Update the basic information of the project"}),e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"name",children:"Project Name"}),e.jsx(f,{id:"name",value:a.name,onChange:r=>t("name",r.target.value),required:!0,placeholder:"Project name"}),e.jsx(j,{className:"mt-2",message:l.name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"description",children:"Description"}),e.jsx(f,{id:"description",value:a.description,onChange:r=>t("description",r.target.value),placeholder:"Short description (optional)"}),e.jsx(j,{className:"mt-2",message:l.description})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"disk",children:"Default Storage"}),e.jsxs(E,{id:"disk",value:a.disk,onValueChange:r=>t("disk",r),className:"flex gap-4",children:[e.jsxs("div",{className:"flex flex-col p-4 px-6 border border-dashed rounded-md",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{value:"public",id:"disk-public"}),e.jsx(o,{htmlFor:"disk-public",className:"font-medium",children:"Local Storage"})]}),e.jsx("p",{className:"text-xs text-muted-foreground pl-6",children:"Files stored on this server."})]}),u&&e.jsxs("div",{className:"flex items-center space-x-1 p-4 px-10 pl-4 border border-dashed rounded-md",children:[e.jsx(v,{value:"s3",id:"disk-s3"}),e.jsx(o,{htmlFor:"disk-s3",children:"AWSÂ S3"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(n,{disabled:c,children:"Save"}),m&&e.jsx("p",{className:"text-sm text-neutral-600",children:"Saved"})]})]}),p.delete_project&&e.jsxs(e.Fragment,{children:[e.jsx(A,{}),e.jsx(H,{projectId:s.id,projectName:s.name})]})]})})]})}export{De as default};
