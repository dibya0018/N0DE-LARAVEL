import{j as r}from"./app-BAYl1HSz.js";import i from"./FieldBase-Bf9Vt966.js";import{I as c}from"./input-CNhlXZJH.js";import{B as p}from"./button-BUWHkrIo.js";import{I as f}from"./input-error-BN6HrjaN.js";import{H as x}from"./hash-CHX6eWTm.js";import{T as w}from"./trash-2-DxLslLPH.js";import{P as A}from"./plus-WwBbC7Wx.js";/* empty css            */import"./label-cm5VjJbG.js";import"./index-DRazXELc.js";import"./utils-CSG-oG7g.js";const b=e=>{if(e===null||e==="")return"";const s=Number(e);return isNaN(s)?"":s.toString()};function T({field:e,value:s,onChange:a,processing:m,errors:o,fieldId:j}){var d;const N=j||e.name,h=()=>{if(!Array.isArray(s)){a(e,[{value:null}]);return}const t=[...s,{value:null}];a(e,t)},y=t=>{if(!Array.isArray(s))return;const l=[...s];l.splice(t,1),a(e,l)};if((d=e.options)!=null&&d.repeatable){const t=Array.isArray(s)?s:[{value:null}];return r.jsx(i,{field:e,value:s,onChange:a,processing:m,errors:o,children:r.jsxs("div",{className:"space-y-2",children:[t.map((l,n)=>r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex",children:[r.jsx("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-input bg-muted text-muted-foreground text-sm",children:r.jsx(x,{className:"h-4 w-4"})}),r.jsx(c,{id:`${e.name}-${n}`,type:"number",step:"any",required:e.required,value:b(l.value),onChange:v=>{const u=[...t];u[n]={value:v.target.value},a(e,u)},disabled:m,placeholder:e.placeholder,className:"rounded-l-none"}),n!==0&&r.jsx(p,{type:"button",variant:"destructive",size:"icon",onClick:()=>y(n),disabled:m,className:"ml-2",children:r.jsx(w,{className:"h-4 w-4"})})]}),r.jsx(f,{message:o[`data.${e.name}.${n}.value`]})]},n)),r.jsxs(p,{type:"button",variant:"outline",size:"sm",onClick:h,disabled:m,className:"text-xs",children:[r.jsx(A,{className:"h-4 w-4 mr-1"}),"Add a new line"]})]})})}return r.jsx(i,{field:e,value:s,onChange:a,processing:m,errors:o,children:r.jsxs("div",{className:"flex rounded-md",children:[r.jsx("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-input bg-muted text-muted-foreground text-sm",children:r.jsx(x,{className:"h-4 w-4"})}),r.jsx(c,{id:N,type:"number",step:"any",required:e.required,value:b(s),onChange:t=>a(e,t.target.value),disabled:m,placeholder:e.placeholder,className:"rounded-l-none"})]})})}export{T as default};
