import{u as C,r,j as e,H as N,b as v,t as n}from"./app-BAYl1HSz.js";import{A as w}from"./app-layout-BEHjmAYT.js";import{C as S,a as y,b as T,c as D}from"./card-CrMVoWAt.js";import{S as F}from"./separator-DNWIp4wA.js";import{B as o}from"./button-BUWHkrIo.js";import{D as I,a as b,b as A,c as L,d as O,e as k}from"./dialog-DohomiSb.js";import{I as M}from"./input-CNhlXZJH.js";import U from"./ProjectSidebar-QmuUIZrJ.js";import E from"./FieldList-NKKIdP0I.js";import H from"./AddFieldModal-qNduh36z.js";import P from"./layout-CDKIYFuv.js";import{C as _}from"./copy-mrXhSjRK.js";import{S as B}from"./save-BrDiTwid.js";/* empty css            */import"./utils-CSG-oG7g.js";import"./index-DzNUrV5G.js";import"./index-D0mva12j.js";import"./Combination-DBQolvko.js";import"./index-DRazXELc.js";import"./index-WjG9McFh.js";import"./tooltip-DsY4Q31h.js";import"./index-DU1cekCd.js";import"./floating-ui.dom-DtF1XweH.js";import"./index-WbFOJLSP.js";import"./dropdown-menu-zE5wHxoc.js";import"./index-CC0gYkaS.js";import"./index-ClMuC-A5.js";import"./index-CDr1GRbl.js";import"./user-BSjMmka3.js";import"./settings-Bhr0gP4l.js";import"./app-logo-icon-BrzWybGo.js";import"./index-B_2jjvkB.js";import"./folder-BjjgW9yE.js";import"./image-u2W-qx98.js";import"./globe-CUGWl2f4.js";import"./users-DJytDsFA.js";import"./key-BAlHmL0b.js";import"./download-DYCYjKDs.js";import"./layout-grid-DOI_FcEe.js";import"./chevron-right-D6wPFmnq.js";import"./search-bar-CXlHkVVx.js";import"./dnd.esm-Bv3pd172.js";import"./extends-CF3RwP-h.js";import"./CreateCollectionModal-CWXrQL5D.js";import"./label-cm5VjJbG.js";import"./input-error-BN6HrjaN.js";import"./Select-b8uBCLur.js";import"./checkbox-DM2FAlZO.js";import"./index-47IHtonF.js";import"./check-B69XlBAf.js";import"./radio-group-CThl2yM6.js";import"./upload-IcDaw6Sm.js";import"./DeleteCollectionModal-GNqxQqVK.js";import"./plus-WwBbC7Wx.js";import"./grip-vertical-CVrUASli.js";import"./ellipsis-vertical-Dhv4-4ce.js";import"./FieldFormModal-D_ECj-tu.js";import"./textarea-BninraIe.js";import"./alert-dialog-rwDNo7n6.js";import"./scroll-area-4-y7N4RV.js";import"./code-DWMjAwzg.js";import"./clock-B4VR18tN.js";import"./calendar-CA5vAzoc.js";import"./list-ordered-CAJaYuK2.js";import"./hash-CHX6eWTm.js";import"./lock-op3ureYo.js";import"./at-sign-C25L0n_H.js";import"./link-t6pPAohe.js";import"./chevron-down-Cw2QYx2J.js";import"./layers-DN_3VWi5.js";import"./pencil-D2bWwKqy.js";function as({project:t,collection:s}){const m=C().props.userCan,[c,l]=r.useState(!1),[x,d]=r.useState(!1),[h,a]=r.useState(!1),[p,u]=r.useState(s.name),f=async i=>{await navigator.clipboard.writeText(i),l(!0),setTimeout(()=>l(!1),2e3)},j=async()=>{try{await v.post(route("collections.saveAsTemplate",[t.id,s.id]),{name:p}),a(!1),n.success("Template saved")}catch(i){console.error(i),n.error("Failed to save template")}},g=[{title:t.name,href:route("projects.show",t.id)},{title:s.name,href:route("projects.collections.show",[t.id,s.id])},{title:"Edit Collection",href:route("projects.collections.edit",[t.id,s.id])}];return e.jsxs(w,{breadcrumbs:g,children:[e.jsx(N,{title:s.name}),e.jsxs(P,{children:[e.jsx(U,{project:t}),e.jsx(F,{className:"my-6 md:hidden"}),e.jsx("div",{className:"flex-1 max-w-full md:w-2xl lg:w-xl xl:w-3xl",children:e.jsx("section",{className:"space-y-12",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsx(E,{projectId:t.id,collectionId:s.id,initialFields:s.fields,onAddFieldClick:()=>d(!0),collections:t.collections,can:m}),e.jsxs(S,{className:"w-full lg:w-[240px]",children:[e.jsx(y,{children:e.jsx(T,{children:s.name})}),e.jsx(D,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium",children:"UUID"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:s.uuid}),e.jsxs(o,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>f(s.uuid),children:[e.jsx(_,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Copy UUID"})]}),c&&e.jsx("span",{className:"text-xs text-green-500",children:"Copied!"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium",children:"Slug"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.slug})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium",children:"Created At"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(s.created_at).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium",children:"Last Updated"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(s.updated_at).toLocaleString()})]}),e.jsxs(o,{variant:"default",className:"w-full flex items-center justify-center gap-2",onClick:()=>a(!0),children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx("span",{children:"Save as Template"})]})]})})]})]})})})]}),e.jsx(H,{isOpen:x,onClose:()=>d(!1),collectionId:s.id,projectId:t.id,collections:t.collections,collectionFields:s.fields,can:m}),e.jsx(I,{open:h,onOpenChange:a,children:e.jsxs(b,{children:[e.jsxs(A,{children:[e.jsx(L,{children:"Save Collection as Template"}),e.jsx(O,{className:"sr-only",children:"Save Collection as Template"})]}),e.jsx("div",{className:"space-y-4",children:e.jsx(M,{value:p,onChange:i=>u(i.target.value),placeholder:"Template name"})}),e.jsxs(k,{children:[e.jsx(o,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),e.jsx(o,{onClick:j,children:"Save"})]})]})})]})}export{as as default};
