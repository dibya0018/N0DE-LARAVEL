import{U as D,j as r}from"./app-BAYl1HSz.js";import w from"./TextField-Dt6xk4U6.js";import v from"./LongTextField-pHUbLQHO.js";import{R as h}from"./RichTextField-CrjV0zQv.js";import A from"./SlugField-DjA0XAOG.js";import _ from"./EmailField-BweyaS-V.js";import S from"./PasswordField-DLfPPdTM.js";import T from"./NumberField-B3DmFbh9.js";import k from"./EnumerationField-CxYYOCLp.js";import z from"./BooleanField-B8_VnfQ_.js";import E from"./ColorField-DrDbyQiD.js";import O from"./DateField-DOOCCrXG.js";import P from"./TimeField-C-UyVgTj.js";import R from"./MediaField-DBaPeEC8.js";import M from"./RelationField-C0NQWvtk.js";import q from"./JSONField-BOhBgX4C.js";import{B as $}from"./button-BUWHkrIo.js";import{P as g}from"./plus-WwBbC7Wx.js";import{T as J}from"./trash-2-DxLslLPH.js";function b({field:e,value:n,onChange:x,processing:l,errors:y,projectId:C}){var N;const o=((N=e.options)==null?void 0:N.repeatable)??!1,f=e.children||[],u=D.useMemo(()=>n?o?Array.isArray(n)?n:[]:Array.isArray(n)&&n.length>0?[n[0]]:[n||{}]:o?[]:[{}],[n,o]),p=()=>{const s={};f.forEach(t=>{var m;t.type==="boolean"?s[t.name]=!1:t.type==="enumeration"&&((m=t.options)!=null&&m.multiple)?s[t.name]=[]:["media","relation"].includes(t.type)?s[t.name]=[]:t.type==="json"?s[t.name]=null:s[t.name]=""});const a=[...u,s];x(e,a)},F=s=>{const a=u.filter((t,m)=>m!==s);x(e,a)},V=(s,a,t)=>{const m=[...u];m[s]||(m[s]={}),m[s][a.name]=t,x(e,m)};return f.length===0?r.jsx("div",{className:"text-sm text-muted-foreground",children:"No child fields defined for this group."}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:e.label}),e.description&&r.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]}),o&&r.jsxs($,{type:"button",variant:"outline",size:"sm",onClick:p,disabled:l,children:[r.jsx(g,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),u.length===0&&o?r.jsxs("div",{className:"text-center py-8 border border-dashed rounded-lg",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"No items added yet."}),r.jsxs($,{type:"button",variant:"outline",size:"sm",onClick:p,disabled:l,children:[r.jsx(g,{className:"h-4 w-4 mr-2"}),"Add First Item"]})]}):r.jsx("div",{className:"space-y-4",children:u.map((s,a)=>r.jsxs("div",{className:"relative border border-border rounded-md p-4 bg-card",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h4",{className:"text-sm font-medium",children:o?`Item ${a+1}`:""}),o&&u.length>1&&r.jsx($,{type:"button",variant:"ghost",size:"sm",onClick:()=>F(a),disabled:l,className:"h-8 w-8 p-0",children:r.jsx(J,{className:"h-4 w-4 text-destructive"})})]}),r.jsx("div",{className:"space-y-4",children:f.map(t=>{const m=s[t.name],G=[`data.${e.name}.${a}.${t.name}.required`,`data.${e.name}.${a}.${t.name}.email`,`data.${e.name}.${a}.${t.name}.numeric`,`data.${e.name}.${a}.${t.name}.between`,`data.${e.name}.${a}.${t.name}.min`,`data.${e.name}.${a}.${t.name}.max`,`data.${e.name}.${a}.${t.name}`,`${e.name}.${a}.${t.name}`,`${e.name}[${a}].${t.name}`];let c;for(const d of G){const i=y[d];if(i){c=Array.isArray(i)?i[0]:String(i);break}}if(!c&&o){const d=[`data.${e.name}.*.${t.name}.required`,`data.${e.name}.*.${t.name}.email`,`data.${e.name}.*.${t.name}.numeric`,`data.${e.name}.*.${t.name}`];for(const i of d){const j=y[i];if(j){c=Array.isArray(j)?j[0]:String(j);break}}}const K=`${e.name}-${a}-${t.name}`;return r.jsx("div",{className:"space-y-2",children:B({field:t,value:m,onChange:(d,i)=>V(a,t,i),processing:l,errors:c?{[t.name]:c}:{},projectId:C,fieldId:K})},t.id||t.name)})})]},a))})]})}const ce=Object.freeze(Object.defineProperty({__proto__:null,default:b},Symbol.toStringTag,{value:"Module"}));function B(e){const{field:n}=e;switch(n.type){case"text":return r.jsx(w,{...e});case"longtext":return r.jsx(v,{...e});case"richtext":return r.jsx(h,{...e});case"slug":return r.jsx(A,{...e});case"email":return r.jsx(_,{...e});case"password":return r.jsx(S,{...e});case"number":return r.jsx(T,{...e});case"enumeration":return r.jsx(k,{...e});case"boolean":return r.jsx(z,{...e});case"color":return r.jsx(E,{...e});case"date":return r.jsx(O,{...e});case"time":return r.jsx(P,{...e});case"media":return r.jsx(R,{...e});case"relation":return r.jsx(M,{...e});case"json":return r.jsx(q,{...e});case"group":return r.jsx(b,{...e});default:return null}}const le=Object.freeze(Object.defineProperty({__proto__:null,BooleanField:z,ColorField:E,DateField:O,EmailField:_,EnumerationField:k,FieldGroup:b,JSONField:q,LongTextField:v,MediaField:R,NumberField:T,PasswordField:S,RelationField:M,RichTextField:h,SlugField:A,TextField:w,TimeField:P,renderField:B},Symbol.toStringTag,{value:"Module"}));export{ce as F,le as i,B as r};
