import{u as Q,r,j as e,H as R,b as _,t as m,L as $}from"./app-BAYl1HSz.js";import{D as w,a as S,b as D,c as T,d as k,e as L}from"./dialog-DohomiSb.js";import{I as P}from"./input-CNhlXZJH.js";import{T as A}from"./textarea-BninraIe.js";import{A as q,W as J}from"./app-layout-BEHjmAYT.js";import{C as V,a as X,b as Y,d as Z,c as ee}from"./card-CrMVoWAt.js";import{S as se}from"./separator-DNWIp4wA.js";import{c as ae,B as i}from"./button-BUWHkrIo.js";import{B as n}from"./badge-QMdTmx3v.js";import{a as te,b as ie,c as le}from"./tooltip-DsY4Q31h.js";import re from"./ProjectSidebar-QmuUIZrJ.js";import oe from"./layout-CDKIYFuv.js";import{G as I}from"./globe-CUGWl2f4.js";import{S as ne}from"./save-BrDiTwid.js";import{C as F}from"./copy-mrXhSjRK.js";import{I as z}from"./image-u2W-qx98.js";import{S as ce}from"./settings-Bhr0gP4l.js";import{U as de}from"./users-DJytDsFA.js";import{K as me}from"./key-BAlHmL0b.js";import{D as xe}from"./download-DYCYjKDs.js";import{L as pe}from"./layers-DN_3VWi5.js";import{F as he}from"./file-text-CWXDWnWc.js";/* empty css            */import"./index-DzNUrV5G.js";import"./index-D0mva12j.js";import"./utils-CSG-oG7g.js";import"./Combination-DBQolvko.js";import"./index-DRazXELc.js";import"./index-WjG9McFh.js";import"./dropdown-menu-zE5wHxoc.js";import"./index-CC0gYkaS.js";import"./index-ClMuC-A5.js";import"./index-DU1cekCd.js";import"./floating-ui.dom-DtF1XweH.js";import"./index-WbFOJLSP.js";import"./index-CDr1GRbl.js";import"./user-BSjMmka3.js";import"./app-logo-icon-BrzWybGo.js";import"./index-B_2jjvkB.js";import"./folder-BjjgW9yE.js";import"./layout-grid-DOI_FcEe.js";import"./chevron-right-D6wPFmnq.js";import"./search-bar-CXlHkVVx.js";import"./dnd.esm-Bv3pd172.js";import"./extends-CF3RwP-h.js";import"./CreateCollectionModal-CWXrQL5D.js";import"./label-cm5VjJbG.js";import"./input-error-BN6HrjaN.js";import"./Select-b8uBCLur.js";import"./checkbox-DM2FAlZO.js";import"./index-47IHtonF.js";import"./check-B69XlBAf.js";import"./radio-group-CThl2yM6.js";import"./upload-IcDaw6Sm.js";import"./DeleteCollectionModal-GNqxQqVK.js";import"./plus-WwBbC7Wx.js";import"./grip-vertical-CVrUASli.js";import"./ellipsis-vertical-Dhv4-4ce.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],je=ae("HardDrive",ue);function ys({project:s}){var v,b;const a=Q().props.userCan,{copied:o,copyToClipboard:x}=fe(),[p,c]=r.useState(!1),[h,U]=r.useState(s.name),[j,H]=r.useState(s.description??""),[O,d]=r.useState(!1),[f,E]=r.useState(s.name+" Copy"),[g,M]=r.useState(s.description??""),B=t=>t.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),G=async()=>{try{await _.post(route("projects.saveAsTemplate",s.id),{name:h,slug:B(h),description:j}),m.success("Template saved"),c(!1)}catch(t){console.error(t),m.error("Failed to save template")}},W=async()=>{var t;try{const C=(t=(await _.post(route("projects.clone",s.id),{name:f,description:g})).data)==null?void 0:t.redirect;C?window.location.href=C:(m.success("Project cloned"),d(!1))}catch(y){console.error(y),m.error("Failed to clone project")}},N=s.disk==="public"?"Local Storage":s.disk.toUpperCase(),K=[{title:s.name,href:"/project"}];return e.jsxs(q,{breadcrumbs:K,children:[e.jsx(R,{title:s.name}),e.jsxs(oe,{children:[e.jsx(re,{project:s}),e.jsx(se,{className:"my-6 md:hidden"}),e.jsx("div",{className:"flex-1 max-w-full md:w-2xl lg:w-xl xl:w-3xl",children:e.jsx("section",{className:"space-y-6",children:e.jsxs(V,{children:[e.jsx(X,{className:"space-y-2",children:e.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[e.jsxs("div",{children:[e.jsx(Y,{className:"text-2xl font-bold",children:s.name}),e.jsx(Z,{children:s.description||"No description"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[e.jsxs(te,{children:[e.jsx(ie,{asChild:!0,children:e.jsxs(n,{variant:"outline",className:"flex items-center gap-1 cursor-default",children:[e.jsx(je,{className:"h-3 w-3"})," ",N]})}),e.jsx(le,{children:s.disk==="public"?"Files stored on this server.":"Amazon S3 storage"})]}),e.jsxs(n,{variant:"outline",className:"flex items-center gap-1",children:[e.jsx(I,{className:"h-3 w-3"})," ",s.default_locale.toUpperCase()]}),s.public_api&&e.jsx(n,{variant:"secondary",className:"flex items-center gap-1",children:"Public API"}),e.jsxs(i,{size:"sm",variant:"outline",className:"flex items-center gap-1",onClick:()=>c(!0),children:[e.jsx(ne,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Template"})]}),a.create_project&&e.jsxs(i,{size:"sm",variant:"outline",className:"flex items-center gap-1",onClick:()=>d(!0),children:[e.jsx(F,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Clone"})]})]})]})}),e.jsxs(ee,{children:[e.jsxs("div",{className:"flex flex-wrap gap-3 justify-center mb-4",children:[a.access_assets&&e.jsx(l,{icon:z,label:"Asset Library",href:route("assets.index",s.id)}),a.access_project_settings&&e.jsx(l,{icon:ce,label:"General Settings",href:route("projects.settings.project",s.id)}),a.access_localization_settings&&e.jsx(l,{icon:I,label:"Localization",href:route("projects.settings.localization",s.id)}),a.access_user_access_settings&&e.jsx(l,{icon:de,label:"User Access",href:route("projects.settings.user-access",s.id)}),a.access_api_access_settings&&e.jsx(l,{icon:me,label:"API Access",href:route("projects.settings.api-access",s.id)}),a.access_webhooks_settings&&e.jsx(l,{icon:J,label:"Webhooks",href:route("projects.settings.webhooks",s.id)}),a.access_project_settings&&e.jsx(l,{icon:xe,label:"Export/Import",href:route("projects.settings.export-import",s.id)})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 justify-between",children:[e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium",children:"Project ID"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground break-all",children:s.uuid}),e.jsxs(i,{type:"button",variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>x(s.uuid),children:[e.jsx(F,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Copy UUID"})]}),o&&e.jsx("span",{className:"text-xs text-green-500",children:"Copied!"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium",children:"Storage"}),e.jsx("p",{className:"text-sm text-muted-foreground uppercase",children:N})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium",children:"Default Locale"}),e.jsx("p",{className:"text-sm text-muted-foreground uppercase",children:s.default_locale})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium",children:"Available Locales"}),e.jsx("p",{className:"text-sm text-muted-foreground uppercase",children:((v=s.locales)!=null&&v.length?s.locales.join(", "):s.default_locale).toUpperCase()})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium",children:"Public API"}),e.jsx("p",{className:"text-sm text-muted-foreground uppercase",children:s.public_api?e.jsx(n,{variant:"default",className:"flex items-center gap-1",children:"Enabled"}):e.jsx(n,{variant:"outline",className:"flex items-center gap-1",children:"Disabled"})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium",children:"Created At"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(s.created_at).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium",children:"Last Updated"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(s.updated_at).toLocaleString()})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-center border border-dashed rounded-md p-4",children:e.jsx(u,{icon:pe,label:"Collections",value:s.collections_count??((b=s.collections)==null?void 0:b.length)??0})}),e.jsx("div",{className:"text-center border border-dashed rounded-md p-4",children:e.jsx(u,{icon:he,label:"Content Entries",value:s.content_count??0})}),e.jsx("div",{className:"text-center border border-dashed rounded-md p-4",children:e.jsx(u,{icon:z,label:"Assets",value:s.assets_count??0})})]})]})]})]})})})]}),e.jsx(w,{open:p,onOpenChange:c,children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(T,{children:"Save Project as Template"}),e.jsx(k,{className:"sr-only",children:"Save Project as Template"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",htmlFor:"tpl_name",children:"Template Name"}),e.jsx(P,{id:"tpl_name",value:h,onChange:t=>U(t.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",htmlFor:"tpl_desc",children:"Description"}),e.jsx(A,{id:"tpl_desc",value:j,onChange:t=>H(t.target.value),rows:3})]})]}),e.jsxs(L,{children:[e.jsx(i,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),e.jsx(i,{onClick:G,children:"Save"})]})]})}),e.jsx(w,{open:O,onOpenChange:d,children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(T,{children:"Clone Project"}),e.jsx(k,{className:"sr-only",children:"Clone Project"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",htmlFor:"clone_name",children:"New Project Name"}),e.jsx(P,{id:"clone_name",value:f,onChange:t=>E(t.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",htmlFor:"clone_desc",children:"Description"}),e.jsx(A,{id:"clone_desc",value:g,onChange:t=>M(t.target.value),rows:3})]})]}),e.jsxs(L,{children:[e.jsx(i,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),e.jsx(i,{onClick:W,children:"Clone"})]})]})})]})}function fe(){const[s,a]=r.useState(!1);return{copied:s,copyToClipboard:async x=>{try{await navigator.clipboard.writeText(x),a(!0),setTimeout(()=>a(!1),2e3)}catch(p){console.error("Failed to copy",p)}}}}function u({icon:s,label:a,value:o}){return e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{className:"mx-auto h-6 w-6 text-muted-foreground"}),e.jsx("p",{className:"text-2xl font-semibold",children:o}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a})]})}function l({icon:s,label:a,href:o}){return e.jsxs($,{href:o,className:"inline-flex items-center gap-2 rounded-md border px-3 py-2 text-sm hover:bg-accent",children:[e.jsx(s,{className:"h-4 w-4"})," ",a]})}export{ys as default};
