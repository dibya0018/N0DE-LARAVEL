import{j as u}from"./app-BAYl1HSz.js";import g from"./FieldBase-Bf9Vt966.js";import{S as j}from"./Select-b8uBCLur.js";/* empty css            */import"./label-cm5VjJbG.js";import"./index-DRazXELc.js";import"./utils-CSG-oG7g.js";import"./input-error-BN6HrjaN.js";import"./extends-CF3RwP-h.js";import"./floating-ui.dom-DtF1XweH.js";function q({field:t,value:r,onChange:p,processing:m,errors:l}){var c;const y=()=>{var o;try{return(o=t.options)!=null&&o.enumeration&&typeof t.options.enumeration=="object"&&t.options.enumeration.list&&Array.isArray(t.options.enumeration.list)?t.options.enumeration.list.map(n=>({value:n,label:n})):[]}catch{return[]}},A=o=>{var n;if((n=t.options)!=null&&n.multiple){const i=Array.isArray(o)?o.map(s=>s.value):[];p(t,i)}else{const i=o?o.value:"";p(t,i)}},a=y(),h=(()=>{var n,i;if(!r)return(n=t.options)!=null&&n.multiple?[]:null;if((i=t.options)!=null&&i.multiple)return(Array.isArray(r)?r:(()=>{if(typeof r=="string")try{const e=JSON.parse(r);return Array.isArray(e)?e:r.split(",")}catch{return r.split(",")}return[]})()).map(e=>a.find(S=>S.value===String(e))).filter(Boolean);const o=Array.isArray(r)?r[0]:typeof r=="string"?(()=>{try{const s=JSON.parse(r);return Array.isArray(s)?s[0]:r}catch{return r}})():r;return a.find(s=>s.value===String(o))||null})();return u.jsx(g,{field:t,value:r,onChange:p,processing:m,errors:l,children:u.jsx(j,{isMulti:!!((c=t.options)!=null&&c.multiple),value:h,onChange:A,isDisabled:m,placeholder:t.placeholder||"Select...",options:a,isClearable:!t.required})})}export{q as default};
