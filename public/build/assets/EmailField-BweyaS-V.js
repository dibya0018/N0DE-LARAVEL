import{j as e}from"./app-BAYl1HSz.js";import u from"./FieldBase-Bf9Vt966.js";import{I as c}from"./input-CNhlXZJH.js";import{B as p}from"./button-BUWHkrIo.js";import{I as v}from"./input-error-BN6HrjaN.js";import{A as x}from"./at-sign-C25L0n_H.js";import{T as A}from"./trash-2-DxLslLPH.js";import{P as w}from"./plus-WwBbC7Wx.js";/* empty css            */import"./label-cm5VjJbG.js";import"./index-DRazXELc.js";import"./utils-CSG-oG7g.js";function T({field:r,value:s,onChange:t,processing:l,errors:n,fieldId:j}){var o;const b=j||r.name,h=()=>{if(!Array.isArray(s)){t(r,[{value:null}]);return}const a=[...s,{value:null}];t(r,a)},N=a=>{if(!Array.isArray(s))return;const d=[...s];d.splice(a,1),t(r,d)};if((o=r.options)!=null&&o.repeatable){const a=Array.isArray(s)?s:[{value:null}];return e.jsx(u,{field:r,value:s,onChange:t,processing:l,errors:n,children:e.jsxs("div",{className:"space-y-2",children:[a.map((d,m)=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-input bg-muted text-muted-foreground text-sm",children:e.jsx(x,{className:"h-4 w-4"})}),e.jsx(c,{id:`${r.name}-${m}`,type:"text",required:r.required,value:d.value||"",onChange:y=>{const i=[...a];i[m]={value:y.target.value},t(r,i)},disabled:l,placeholder:r.placeholder,className:"rounded-l-none"}),m!==0&&e.jsx(p,{type:"button",variant:"destructive",size:"icon",onClick:()=>N(m),disabled:l,className:"ml-2",children:e.jsx(A,{className:"h-4 w-4"})})]}),e.jsx(v,{message:n[`data.${r.name}.${m}.value`]})]},m)),e.jsxs(p,{type:"button",variant:"outline",size:"sm",onClick:h,disabled:l,className:"text-xs",children:[e.jsx(w,{className:"h-4 w-4 mr-1"}),"Add a new line"]})]})})}return e.jsx(u,{field:r,value:s,onChange:t,processing:l,errors:n,children:e.jsxs("div",{className:"flex rounded-md",children:[e.jsx("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-input bg-muted text-muted-foreground text-sm",children:e.jsx(x,{className:"h-4 w-4"})}),e.jsx(c,{id:b,type:"email",required:r.required,value:s||"",onChange:a=>t(r,a.target.value),disabled:l,placeholder:r.placeholder,className:"rounded-l-none"})]})})}export{T as default};
